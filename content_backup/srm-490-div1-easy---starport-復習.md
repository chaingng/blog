+++
title = "SRM 490 DIV1 Easy - Starport (復習○)"
date = 2014-02-02T18:34:00Z
updated = 2015-04-03T11:11:36Z
tags = ["数学"]
blogimport = true
draft = true
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=11227&amp;rd=14243" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=11227&amp;rd=14243</a><br /><br />Ｍ秒間隔でスペースシャトルが到着し、Ｎ秒間隔でテレポートが始まる。<br />スペースシャトルが到着したときにテレポート間隔とぴったりでなければ、次のテレポート時間まで待つ。<br /><br />このとき、待ち時間の平均時間を求める。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />数学的に解く問題。<br />サンプルを元に計算すると、<br /><div style="border: 0px; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;">N=10 M=4 (gcd=2 lcm=20)</div><div style="border: 0px; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;"><span style="font-family: Helvetica, Arial, 'Droid Sans', sans-serif; line-height: 1.428571em;">M:4 8 12 16 20 24 28 32 36 40 44</span></div><div style="border: 0px; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;"><div style="border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; line-height: 1.428571em; margin: 0px; padding: 0px;">N: &nbsp; &nbsp;10 &nbsp; &nbsp; &nbsp; 20 &nbsp; &nbsp; &nbsp; 30 &nbsp; &nbsp; &nbsp; &nbsp; 40 50 60 70</div></div><br />１サイクルの待ち時間 T=6+2+8+4+0=20となる。<br />また、要素数はlcm/Mとなることがわかる。<br /><br />また要素をgcdにて割ると、<br /><div style="border: 0px; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;"><span style="font-family: Helvetica, Arial, 'Droid Sans', sans-serif; line-height: 1.428571em;">M':2 4 6 8 10&nbsp;</span></div><div style="border: 0px; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;"><div style="border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; line-height: 1.428571em; margin: 0px; padding: 0px;">N': &nbsp; &nbsp;5 &nbsp; &nbsp; &nbsp;10 &nbsp;</div></div><br />１サイクルの待ち時間はT=gcd*(3+1+4+2+0)<br />また、0,1,...N'-1のすべての要素が出現することがわかる。<br /><br />つまり、合計待ち時間T、要素数Kと答えとなるT/Kは以下のように計算できる。<br />T=gcd*N'*(N'-1)/2<br />&nbsp; =gcd*(N/gcd)(N/gcd-1)/2<br />&nbsp; =N(N/gcd-1)/2<br /><br />K=lcm/M=N/gcd<br /><br />T/K= (N(N/gcd-1)/2) &nbsp;/(N/gcd)<br />&nbsp; &nbsp; &nbsp;= (N(N/gcd-1)*gcd) &nbsp;/(N*2)<br />&nbsp; &nbsp; &nbsp;= gcd*(N/gcd-1) /2<br />&nbsp; &nbsp; &nbsp;=(N-gcd)/2<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class Starport {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int gcd(int a,int b){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(a&lt;b)swap(a,b);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(a%b==0)return b;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return gcd(b,a%b);<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>double getExpectedTime(int N, int M) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return (double)(N-gcd(N,M))/2.0;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
