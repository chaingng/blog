+++
title = "SRM 579 DIV1 Easy - UndoHistory ○"
date = 2015-05-27T16:36:00Z
updated = 2015-08-06T09:57:24Z
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 <br /></h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=12523&amp;rd=15499" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=12523&amp;rd=15499</a><br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />前の文字列からそのまま続けられる時はその場合と、<br />以前の部分文字列を使う場合のうち最小のものを採用していけばよい。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class UndoHistory {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public: int minPresses(vector&lt;string&gt; lines) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int n=lines.size();<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int ret=n;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>string prev="";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>int cost=1e+9;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(prev.size()&lt;=lines[i].size()){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>int valid=1;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>FORE(j,0,prev.size())if(prev[j]!=lines[i][j])valid=0;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(valid)cost=min(cost,(int)lines[i].size()-(int)prev.size());<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">   </span>FORE(j,0,i){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>int tmp=0;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>for(int k=0;k&lt;lines[i].size() &amp;&amp; k&lt;lines[j].size();k++){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(lines[i][k]==lines[j][k])tmp++;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>else break;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>cost=min(cost,(int)lines[i].size()-tmp+2);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">   </span>ret+=cost;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>prev=lines[i];<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ret;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
