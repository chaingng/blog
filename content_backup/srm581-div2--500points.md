+++
title = "SRM581 DIV2 -500points"
date = 2013-06-04T23:32:00Z
updated = 2013-06-04T23:32:27Z
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on">＜問題＞<br />①コンテナが入っているか（ｘ）、入っていないか（ー）を現す部屋の順列が与えられる。<br />（例）ーーｘｘｘ－－－<br />②各監視カメラが監視しているコンテナの数が与えられる。<br />（例）｛0、１，２，１｝<br />③監視カメラが監視できる部屋の数が与えられる。監視できる部屋は連続したＬになる。<br />　また、各監視カメラは全く同じ範囲を監視することはできない。<br />（例）　Ｌ＝３<br />④このとき、各部屋が監視されていれば＋、監視されていなければー、どちらかわからなければ？で現される順列を返す。<br />　<br />＜解き方＞<br />・各監視カメラが監視しているコンテナの順列をsortし、同じコンテナの数を数える。<br />　（仮に、１が２つあればreportnum＝２とする）<br />・同じ数のコンテナを監視している中で、各部屋を監視しているパターンの和と順列を求める。<br />　（仮に、１個のコンテナを監視できるパターンが１０通りあればtotalnum=10とする）<br />　（１１２２３２１１のように、その１０通りのパターンで監視できる部屋の数の和を求める）<br />　そのとき、その順列中の数がtotalnum-reportnumより大きければ＋、それ以下でかつ０以上であれば？となる。<br /><br />当日は問題のexampleを２つぐらいしか見ずに解いてしまったので、上のパターンを見逃してしまいました。<br />コーディングにとりかかる前に、exampleは全て確認するか自分で網羅性のある例を出してイメージを膨らませることが大事だと思いました。<br /><br />あと、なぜかstringの初期化コード<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>string ans;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FOR(i,0,n)ans+='-';<br />を最初書いたらエラーになるexampleがあったのに、<br />同じ内容を書き直してみると通ったのは不思議でした。<br /><br />＜ソース＞<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>string getContainerInfo(string containers, vector&lt;int&gt; reports, int L) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int n=containers.size(),reportnum=1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>string ans;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FOR(i,0,n)ans+='-';<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>sort(reports.begin(),reports.end());<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,(int)reports.size()){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(i!=(int)reports.size()-1 &amp;&amp; reports[i]==reports[i+1]){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>reportnum++;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>continue;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><br /><br /><span class="Apple-tab-span" style="white-space: pre;">   </span>vector&lt;int&gt; tmp(n,0);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>int totalnum=0;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">   </span>FORE(j,0,n-L+1){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>int count=0;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>FORE(k,j,j+L)if(containers[k]=='X')count++;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(count!=reports[i])continue;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>FORE(k,j,j+L)tmp[k]++;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>totalnum++;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">   </span>FORE(j,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(tmp[j]&gt;totalnum-reportnum)ans[j]='+';<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>else if(tmp[j]&gt;0 &amp;&amp; ans[j]!='+')ans[j]='?';<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>reportnum=1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ans;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><div><br /></div></div>
