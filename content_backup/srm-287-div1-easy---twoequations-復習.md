+++
title = "SRM 287 DIV1 Easy - TwoEquations (復習○)"
date = 2014-01-28T08:38:00Z
updated = 2015-03-26T19:44:52Z
tags = ["実装"]
blogimport = true
draft = true
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=6013&amp;rd=9808" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=6013&amp;rd=9808</a><br /><br />・２次方程式が与えられる。<br />・このとき、ｘ、ｙを求める。<br />　ただし解がない時は"NO SOLUTIONS"、解が複数あるときは"MULTIPLE SOLUTIONS"を返す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />シミュレーションの問題なので、いかに簡単に実装するか。<br />ポイントは３つ。<br />１つめは、文字列から数字を取り出すところ。<br />２つめは、解がない時、複数あるときの例外判定。<br />３つめは、ｘ、ｙの求め方。<br /><br />１つめについては数字の取り出しとかっこの判定を分けることで実装。<br />２つめ、３つめについては方程式を<br /><span style="font-size: 14px; line-height: 19.9999942779541px;">Ax+ by= c、</span><span style="font-size: 14px; line-height: 19.9999942779541px;">Dx+ ey= fとしたとき、</span><br /><span style="font-size: 14px; line-height: 19.9999942779541px;">X= ce-bf / ae-bd,　</span><span style="font-size: 14px; line-height: 19.9999942779541px;">Y= cd-af / bd-ae　となる。</span><br /><br />２つめ、ae-bdが０のとき ce-bfかつcd-afが０であれば解が複数あり、そうでなければ解が存在しない。<br />またx,yのすべての係数が０のとき、右の項がすべて０なら解が複数あり、そうでなければ解が存在しない。<br /><br />３つめについては上記の式でｘ、ｙを求めればよい。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class TwoEquations {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int getnum2(string str){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>string org;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(str[0]=='(')org=str.substr(1,2);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>else org=str[0];<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>stringstream out(org);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int ans;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>out&gt;&gt;ans;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ans;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>vector&lt;int&gt; getnum(string str){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>stringstream out(str);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>vector&lt;int&gt; ans(3,0);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>string a0,a1,a2,b,c;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>out&gt;&gt;a0&gt;&gt;b&gt;&gt;a1&gt;&gt;c&gt;&gt;a2;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>ans[0]=getnum2(a0);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>ans[1]=getnum2(a1);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>ans[2]=getnum2(a2);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ans;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>string getans(int a,int b){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int gcd=1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,1,abs(b)+1)if(a%i==0&amp;&amp;b%i==0)gcd=i;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(b&lt;0)gcd=-gcd;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>a/=gcd;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>b/=gcd;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return getparse(a)+'/'+getparse(b);<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>string getparse(int x){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>char ch[20];<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(x&gt;=0)sprintf(ch,"%d",x);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>else sprintf(ch,"(%d)",x);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ch;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>string solve(string first, string second) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>vector&lt;int&gt; a0(3,0),a1(3,0);<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>a0=getnum(first);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>a1=getnum(second);<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int num1=a0[0]*a1[1]-a0[1]*a1[0];<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int num2=a0[2]*a1[1]-a0[1]*a1[2];<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int num3=a0[2]*a1[0]-a0[0]*a1[2];<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(a0[0]==0&amp;&amp;a0[1]==0&amp;&amp;a1[0]==0&amp;&amp;a1[1]==0){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(a0[2]==0&amp;&amp;a1[2]==0)return "MULTIPLE SOLUTIONS";<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>return "NO SOLUTIONS";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(num1==0){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(num2==0&amp;&amp;num3==0)return "MULTIPLE SOLUTIONS";<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>return "NO SOLUTIONS";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return "X="+getans(num2,num1)+" Y="+getans(num3,-num1);<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
