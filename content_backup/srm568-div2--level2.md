+++
title = "SRM568 DIV2 -Level2"
date = 2013-06-17T09:06:00Z
updated = 2015-04-03T11:58:51Z
tags = ["全探索"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on">＜問題＞<br />①Ｎ個の箱が与えられる。<br />②それぞれの箱には、赤と緑と青のボールが複数個入っている。<br />③このとき、それぞれの箱に１色のボールしか入らないようにしたいとき、最小のボールの移動回数を求めよ。<br /><br />＜解き方＞<br />ひとつの箱に着目した時、一番多く入っている色をそのまま残して、<br />他の色を移動したらよいことがわかる。<br /><br />ただしこのとき、ひとつの色がどの箱にも少ない個数であるときに<br />その色に移動させる箱が存在しなくなるため、例外のケースも存在する。<br />このままではＮＧ．<br /><br />では全探索で考えるとすると、最大で箱が５０個のためＯ（３＾５０）でＮＧ．<br /><br />では上の考え方を少し応用させると、それぞれの色は少なくとも１回は選ばれることとなる。<br />これがわかると、各色が１回ずつ選ばれる場合の数は最大でも５０＾３でＯＫ．<br /><br />つまり答えは、それぞれの色が１回選ばれる場合でループを回して、それ以外の箱は貪欲方で最大の個数の色を残してあげればよい。<br /><br />（例外処理）<br />最後に例外として、今回は個数が最小で１個なのでこのままでＯＫ．<br />最小で0個だと、選ばれない場合の数は削除しないといけないので注意。<br />最大の数も今回は５０×１０＾６＝５×１０＾７なのでint型でＯＫ．<br /><br />＜コード＞<br />class BallsSeparating {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public: int minOperations(vector&lt;int&gt; red, vector&lt;int&gt; green, vector&lt;int&gt; blue) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int ans=1000000000;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int n=red.size();<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>FORE(j,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(i==j)continue;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>FORE(k,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(j==k || k==i)continue;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>int cost=0;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>FORE(x,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>if(x==i)cost+=(green[x]+blue[x]);<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>else if(x==j)cost+=(red[x]+blue[x]);<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>else if(x==k)cost+=(red[x]+green[x]);<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>else cost+=(red[x]+green[x]+blue[x]-max(red[x],max(green[x],blue[x])));<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>ans=min(ans,cost);<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ans==1000000000? -1:ans ;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};<br /><br /></div>
