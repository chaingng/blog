+++
title = "SRM 281 DIV1 Easy - IntegerGenerator (復習○)"
date = 2014-02-08T11:01:00Z
updated = 2015-04-03T11:10:42Z
tags = ["考察"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=6093&amp;rd=9824" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=6093&amp;rd=9824</a><br /><br />有効な一ケタの数字一覧と、現在の数字が与えられる。<br />現在の数字より大きく、かつ有効な数字のみで構成された数を求める。<br />ただし無効である場合は”INVALID INPUT”を返す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />例外判定がまずは大事。<br />現在の数字に無効な数字が含まれているか、０から始まるのであれば無効。<br /><br />あとは一ケタ目から有効な数字をインクリメントしてあげればよい。<br />その桁において、元の数より大きい数になればそこで終了、<br />そうでなければ桁上がりするので次の桁に進む。<br /><br />最後までインクリメントされるのであれば、最初に一番小さい有効な数字を足す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">#define all(c) (c).begin(),(c).end()<br />#define FORE(i,d,e) for(int i=d;i&lt;e;i++)<br />#define FOR(i,s,e) for (int i = int(s); i != int(e); i++)<br />#define FORIT(i,c) for (typeof((c).begin()) i = (c).begin(); i != (c).end(); i++)<br />#define ISEQ(c) (c).begin(), (c).end()<br /><br />class IntegerGenerator {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public: string nextInteger(vector&lt;int&gt; allowed, string current) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int num[10]={0};<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,allowed.size())num[allowed[i]]=1;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,current.size())if(num[current[i]-'0']==0)return "INVALID INPUT";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(current[0]=='0')return "INVALID INPUT";<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>for(int i=current.size()-1;i&gt;=0;i--){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>int cur=current[i]-'0';<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>for(int j=cur+1;;j++){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(num[j%10]){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>current[i]=(j%10)+'0';<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(j%10&gt;cur)return current;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>break;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>char ch;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,1,10)if(num[i]){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>ch=i+'0';<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>break;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ch+current;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
