+++
title = "SRM 582 DIV1 Easy - SpaceWarDiv1 (復習×○)"
date = 2013-08-18T16:15:00Z
updated = 2015-04-03T11:05:58Z
tags = ["二分探索"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=12604&amp;rd=15502" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=12604&amp;rd=15502</a><br /><br />魔法少女が敵を倒す。<br />それぞれの敵には強さとその強さの個体数、それぞれの魔法少女は強さを持つ。<br />魔法少女は自分よりも強さが敵を倒すことができる。<br />その際、その魔法少女の疲れの値が１増える。<br /><br />このとき、魔法少女が敵を全て倒したときの疲れの最小値を求める。<br />全て倒せないときはー１を返す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />疲れの値を２分探索させて、最小の疲れの値を求める。<br /><br />敵の数が最大１０＾１４のため、<br />その疲れの値が有効かどうかの関数の実装に注意。<br /><br />降順のソートには「<span style="background-color: white; font-size: 14px; line-height: 19.984375px;">sort(rbegin(),rend())</span><span style="background-color: white; font-size: 14px; line-height: 19.984375px;">&nbsp;」が利用可能。</span><br /><span style="background-color: white; font-size: 14px; line-height: 19.984375px;">long longの値を扱うには数字の後に「1234567890LL」とLLをつける。</span><br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class SpaceWarDiv1 {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>bool ispossible(long long maxbattle,vector&lt;int&gt; &amp;girls,vector&lt;pair&lt;int,long long&gt; &gt; &amp;enemies){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>long long girlnum=maxbattle,enemynum=enemies[0].second;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int gi=0,ei=0;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>while(gi&lt;girls.size() &amp;&amp; ei&lt;enemies.size()){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(girlnum==0){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>gi++;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>girlnum=maxbattle;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(enemynum==0){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(ei==enemies.size()-1)return true;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>ei++;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>enemynum=enemies[ei].second;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(girls[gi]&lt;enemies[ei].first){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>gi++;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>continue;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>long long battle=min(girlnum,enemynum);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>girlnum-=battle;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>enemynum-=battle;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return false;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>long long minimalFatigue(vector&lt;int&gt; girls, vector&lt;int&gt; enemyStrength, vector&lt;long long&gt; enemyCount) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>vector&lt;pair&lt;int,long long&gt; &gt; enemies;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>long long h=1e+18,l=0;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>enemies.clear();<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,enemyStrength.size())enemies.push_back(make_pair(enemyStrength[i],enemyCount[i]));<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>sort(girls.rbegin(),girls.rend());<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>sort(enemies.rbegin(),enemies.rend());<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(girls[0]&lt;enemies[0].first)return -1;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>while(h-l&gt;0){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>long long m=(h+l)/2;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(ispossible(m,girls,enemies))h=m;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>else l=m+1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return h;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
