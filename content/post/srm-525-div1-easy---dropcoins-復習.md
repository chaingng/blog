+++
title = "SRM 525 DIV1 Easy - DropCoins （復習○）"
date = 2013-10-12T14:19:00Z
updated = 2015-03-26T19:58:56Z
tags = ["移動"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=11665&amp;rd=14550" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=11665&amp;rd=14550</a><br /><br />四角形のセルに複数コインがある。<br />１回の操作で上下左右に全てのコインを移動させることができ、四角形から外れたコインは落ちる。<br />コインの数Ｋが与えられた時、コインを落としてＫ個にできるとき最小の操作回数を返す。できないときはー１を返す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />全探索で上下左右に動いた時のコインのマスを保存して重複しないようにすればよいと思いつくが、少し複雑。<br /><br />「最後に残るコインのマスはかならず四角形になる」ことがわかれば、<br />四角形からすべてのサブ四角形を求め、その四角形にあるコインの数がＫに一致したものが答えの候補になる。<br />そのときの移動回数は縦横それぞれに対し、角の位置＋戻るために２つのうち最小の角の位置を足してあげればよい。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;"><br />class DropCoins {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public: int getMinimum(vector&lt;string&gt; board, int K) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int INF=1e+8, ret=INF;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int h=board.size(),w=board[0].size();<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>for(int x0=0;x0&lt;h;x0++){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>for(int y0=0;y0&lt;w;y0++){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>for(int x1=x0+1;x1&lt;=h;x1++){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>for(int y1=y0;y1&lt;=w;y1++){<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>int coin=0;<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>FORE(a,x0,x1)FORE(b,y0,y1)if(board[a][b]=='o')coin++;<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>if(coin!=K)continue;<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>int a=x0,b=h-x1,c=y0,d=w-y1;<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>ret=min(ret,a+b+c+d+min(a,b)+min(c,d));<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ret==INF ? -1 : ret;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
