+++
title = "SRM546 DIV2 -Level2"
date = 2013-07-04T22:57:00Z
updated = 2015-04-03T11:22:44Z
tags = ["数学"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"> <h3 style="color: black;border-left:8px solid navy; border-bottom:2px solid slateblue; padding:0px 0px 1px 5px;">問題 </h3> <br />①座標上にある２つの長方形の左下と右上の座標が与えられる。<br />②２つの長方形の重なりが四角形の時はrectangle、線で接している場合はsegment、<br />　点で接している場合はpoint、接していないときはnoneを返す。<br /><br /> <h3 style="color: black;border-left:8px solid navy; border-bottom:2px solid slateblue; padding:0px 0px 1px 5px;">解き方 </h3> <br />単純に場合分けで解いてもよいが複雑になり間違えやすくなる＆コードが書きにくくなるので、数学的に簡単にできないか検討する。<br /><br />まず２次元の問題ということで、それぞれ1次元の問題に分割できないか検討する。<br />今回の場合はｘ軸とｙ軸はそれぞれ影響を与えないので独立に考えられる。<br /><br />次に、ｘ軸が線・点を作れるか、ｙ軸も同じように線・点を作れるか<br />という考え方ができれば、ｘ軸とｙ軸の組み合わせによってどの重なりになるか<br />求めることができる。<br /><br />最後に各軸が線・点を作れる場合を考える。<br />１つ目の長方形の最左辺と最右辺がa、ｂとすると、<br />長方形の中にあるｘ軸の値はa&lt;=x&lt;=bとなる。<br />同様に2つ目の最左辺と最右辺をｃ、ｄとすると、<br />c&lt;=x&lt;=dとなる。<br /><br />ここで２つの条件を合わせると、<br />max(a,c)&lt;x&lt;min(b,d)がｘの範囲となる。<br /><br />つまりxのとりうる範囲　min(b,d)-max(a,c)が<br />複数であれば線、<br />１点のみであれば点、<br />存在しなければ、どちらも作れないということがわかる。<br /><br />これをｙ軸も同じように判定すれば簡単に求められる。<br /><br /> <h3 style="color: black;border-left:8px solid navy; border-bottom:2px solid slateblue; padding:0px 0px 1px 5px;">コード </h3> <br /> <p style="background-color:#E3F2FB;border:1px dotted #CCCCCC;padding:5px;"> class TwoRectangles {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int f(int x){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(x&gt;0)return 1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(x==0)return 0;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return -1;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>string describeIntersection(vector&lt;int&gt; A, vector&lt;int&gt; B) {<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int checkx=f(min(A[2],B[2])-max(A[0],B[0]));<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int checky=f(min(A[3],B[3])-max(A[1],B[1]));<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(checkx==1 &amp;&amp; checky==1)return "rectangle";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(checkx==1 &amp;&amp; checky==0 || checkx==0 &amp;&amp; checky==1)return "segment";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(checkx==0 &amp;&amp; checky==0)return "point";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return "none";<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div> </p>
