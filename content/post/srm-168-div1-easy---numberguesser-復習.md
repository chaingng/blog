+++
title = "SRM 168 DIV1 Easy - NumberGuesser (復習××)"
date = 2014-02-11T09:52:00Z
updated = 2015-03-26T20:01:22Z
tags = ["考察"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=1869&amp;rd=4645" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=1869&amp;rd=4645</a><br /><br />１～９９９８までの数字を考える。<br />（例）４３２１<br /><br />各桁の数を入れ替えて、元の数字より小さければ入れ替えた数を引く。<br />（例）４３２１－１２３４＝３０８７<br /><br />引いた後の数に、０ではない桁の数字を引き、３ケタ未満であれば０を最初につける。<br />（例）０８７<br /><br />この操作をしたあとにできる数があらかじめ与えられた時、<br />引かれた桁の数字が何であるかを求める。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />数字が10^4、かつ数の入れ替えが4!=24通りであるため、<br />全探索可能。<br />あとはシミュレーションなので、シンプルに間違いのないよう実装する。<br /><br />別解として、元の数を1000a+100b+10c+dとすると引く数は1000d+100c+10b+aとなる。<br />この数を引くと、999a+99b-90c-999d、つまり9の倍数となる。<br />9の倍数は各桁の数の和も9の倍数となるから、これを利用して簡単に解くことができる。<br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">using namespace std;<br /><br />#define all(c) (c).begin(),(c).end()<br />#define FORE(i,d,e) for(int i=d;i&lt;e;i++)<br />#define FOR(i,s,e) for (int i = int(s); i != int(e); i++)<br />#define FORIT(i,c) for (typeof((c).begin()) i = (c).begin(); i != (c).end(); i++)<br />#define ISEQ(c) (c).begin(), (c).end()<br /><br />class NumberGuesser {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int f(vector&lt;int&gt; a,vector&lt;int&gt; b){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int num=0,idx=-1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,1,10){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(b[i]-a[i]==1)num++,idx=i;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>else if(b[i]-a[i]&gt;0||b[i]-a[i]&lt;0)return -1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return num==1 ? idx : -1;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int guess(string leftOver) {<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>vector&lt;int&gt; org(10,0);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,leftOver.size())org[leftOver[i]-'0']++;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,1,9999){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>int num=i;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>vector&lt;int&gt; vx;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>while(num&gt;0){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>vx.push_back(num%10);<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>num/=10;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>sort(all(vx));<br /><br /><span class="Apple-tab-span" style="white-space: pre;">   </span>num=i;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>do{<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>int tmp=0,p=1;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>for(int j=vx.size()-1;j&gt;=0;j--){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>tmp+=vx[j]*p;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>p*=10;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(num&gt;=tmp){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>int dif=num-tmp;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>vector&lt;int&gt; check(10,0);<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>while(dif&gt;0){<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>check[dif%10]++;<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>dif/=10;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>int ans=f(org,check);<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(ans!=-1)return ans;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}while(next_permutation(all(vx)));<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return -1;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">using namespace std;<br /><br />#define all(c) (c).begin(),(c).end()<br />#define FORE(i,d,e) for(int i=d;i&lt;e;i++)<br />#define FOR(i,s,e) for (int i = int(s); i != int(e); i++)<br />#define FORIT(i,c) for (typeof((c).begin()) i = (c).begin(); i != (c).end(); i++)<br />#define ISEQ(c) (c).begin(), (c).end()<br /><br />class NumberGuesser {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int guess(string leftOver) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int x=0;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,leftOver.size())x+=leftOver[i]-'0';<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return 9-(x%9);<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
