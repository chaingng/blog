+++
title = "SRM547 DIV2 -Level2"
date = 2013-07-13T09:08:00Z
updated = 2015-03-26T19:55:03Z
tags = ["DP"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br />①それぞれの棒について、最大の高さを表わす配列が与えられる。<br />②それぞれの棒について、１～最大の高さまで任意に設定することができる。<br />③また、それぞれの棒の距離を示すｗが与えられる。<br />④このとき、すべての棒の頂点を結ぶ紐を考えた時、最大となる紐の長さを求める。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />棒Ｎ個の時の最大の長さは、<br />Ｎ－１個の棒が１～最大の長さに対するそれまでの最大の紐の長さがわかれば<br />すぐに求めることができる。<br /><br />また、Ｎ個のときの棒の長さはＮ－１個までの最大の紐の長さに影響を与えないため、<br />動的計画法で解くことができる。<br /><br />Eclipseで利用した時、&lt;math&gt;でインポートしようとしたのがうまくいかなくて<br />&lt;math.h&gt;でなんとかうまくいったのですがかなりひっかかりました。。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class PillarsDivTwo {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public: double maximalLength(vector&lt;int&gt; height, int w) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int n=height.size();<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>double dp[n][101],ans=0.0;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n)FORE(j,0,101)dp[i][j]=0.0;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n-1){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>FORE(j,0,height[i+1]){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>FORE(k,0,height[i]){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>double length=sqrt(w*w+(j-k)*(j-k));<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>dp[i+1][j]=max(dp[i+1][j],dp[i][k]+length);<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,101)ans=max(ans,dp[n-1][i]);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ans;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
