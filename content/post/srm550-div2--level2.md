+++
title = "SRM550 DIV2 -Level2"
date = 2013-07-13T10:04:00Z
updated = 2015-03-26T19:58:56Z
tags = ["移動"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br />①大きさがわからない、２次元のセルを飛行機が移動する。<br />②また、移動セル数を示す数字の配列が与えられる。<br />③最初は右を向いており、最初の移動セル数分だけ右に移動する。<br />　壁にぶつかるかすでに移動したセルにぶつかると、９０度左を向く。<br />　そして次の移動セル分だけ移動する。<br />④このとき、セルの大きさを求める。<br />　ただし、②の移動に従わない動きであればー１を返す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />シミュレーションの問題。<br />いかに間違いが少なくなるようにかけるか、できるだけ単純にコーディングする。<br /><br />今回は、セルの大きさを求めるシミュレーションと、例外を求めるシミュレーションを分けて実装する。<br /><br />まず、セルの大きさは最初の移動をシミュレーションして<br />ｘ座標とｙ座標それぞれ最小と最大を求めれば簡単に算出できる。<br /><br />次に、求めたｘ座標とｙ座標の最小値と最大値を利用して<br />例外ケースではないか判定のシミュレーションを行う。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">int cell[110][110];<br /><br />class RotatingBot {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public: int minArea(vector&lt;int&gt; moves) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int maxX=55,minX=55,maxY=55,minY=55;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int dx[]={1,0,-1,0};<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int dy[]={0,1,0,-1};<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int x=55,y=55,dir=0;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,moves.size()){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>x+=moves[i]*dx[dir%4];<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>y+=moves[i]*dy[dir%4];<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>minX=min(minX,x);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>minY=min(minY,y);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>maxX=max(maxX,x);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>maxY=max(maxY,y);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>dir++;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,110)FORE(j,0,110)cell[i][j]=0;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>x=55,y=55,dir=0,cell[y][x]=1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,moves.size()){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>int num=0;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>while(1){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>int tmpx=x+dx[dir%4];<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>int tmpy=y+dy[dir%4];<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>num++;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(num&gt;moves[i]){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(i==moves.size()-1)break;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(cell[tmpy][tmpx]==1 || tmpx&gt;maxX || tmpx&lt;minX || tmpy&lt;minY || tmpy&gt;maxY){<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>dir++;<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>break;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>return -1;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(cell[tmpy][tmpx]==1)return -1;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>x=tmpx;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>y=tmpy;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>cell[y][x]=1;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return (maxX-minX+1)*(maxY-minY+1);<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
