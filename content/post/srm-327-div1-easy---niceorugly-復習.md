+++
title = "SRM 327 DIV1 Easy - NiceOrUgly (復習×○)"
date = 2014-01-20T20:47:00Z
updated = 2015-03-26T19:54:39Z
tags = ["DP"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=6871&amp;rd=10007" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=6871&amp;rd=10007</a><br /><br />・？を含んだ文字列が与えられる。<br />・母音が３つ連続する、または子音が５つ連続したらその文字列はＵＧＬYであり、そうでなければＮＩＣＥである。<br />・？は任意の文字に置き換えられる。<br /><br />このとき、与えられた文字列がＮＩＣＥであればＮＩＣＥを返し、ＵＧＬＹであればＵＧＬＹ，どちらもあり得るのであれば４２を返す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />文字の長さが最大５０であることから全探索はできない。<br />ここでｄｐを考えると、状態の数はdp[50][3][5]であるためdpで解くことができる。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">int dp[100][100][100];<br />string str;<br /><br />class NiceOrUgly {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>bool is_vow(char ch){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ch=='A'||ch=='E'||ch=='I'||ch=='O'||ch=='U';<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int calc(int pos,int x,int y){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(x&gt;=3||y&gt;=5)return 2;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(pos&gt;=str.size())return 1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(dp[pos][x][y]!=-1)return dp[pos][x][y];<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int ret=0;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(str[pos]=='?'){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>ret|=calc(pos+1,x+1,0);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>ret|=calc(pos+1,0,y+1);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>else{<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(is_vow(str[pos]))ret|=calc(pos+1,x+1,0);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>else ret|=calc(pos+1,0,y+1);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return dp[pos][x][y]=ret;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>string describe(string s) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>memset(dp,-1,sizeof(dp));<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>str=s;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int ret=calc(0,0,0);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(ret==3)return "42";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(ret==1)return "NICE";<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return "UGLY";<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
