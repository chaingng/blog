+++
title = "SRM 493 DIV1 Easy - StonesGame (復習×)"
date = 2014-02-02T14:23:00Z
updated = 2015-04-03T11:33:04Z
tags = ["２人ゲーム"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=11292&amp;rd=14422" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=11292&amp;rd=14422</a><br /><br />番号が１から始まる長さＮの列に、ひとつだけ白い石が置かれている。<br />そのほかの場所には黒い石が置かれている。<br />ここで２人のプレイヤーでゲームを行い、連続してＫ個の石を選びその順番をひっくりかえす。<br />ただし、選んだ中には白い石がなければならない。<br /><br />プレイヤーは交互にプレイする。最初はRomeoの番で、次はStrangletの番。<br /><br />このとき、勝つ方のプレイヤーの名前を返す。<br />ただし、決着がつかない場合はDrawを返す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />石の場所とゴールの場所が与えられた時に勝ちかどうかを判定できる関数を正確に作ることができるか。<br /><br />関数は以下の条件で作成できる。<br />・ゴールと初期位置の差とＫ＋１の偶奇が一致しているか<br />・ゴールと初期位置の差がＫ未満であるか<br />・ひっくり返すＫの選び方が、列におさまるか<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">using namespace std;<br /><br />#define FORE(i,d,e) for(int i=d;i&lt;e;i++)<br />#define FOR(i,s,e) for (int i = int(s); i != int(e); i++)<br />#define FORIT(i,c) for (typeof((c).begin()) i = (c).begin(); i != (c).end(); i++)<br />#define ISEQ(c) (c).begin(), (c).end()<br /><br />class StonesGame {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>bool can(int N,int M,int K,int L){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(M&gt;L)swap(M,L);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(L-M&gt;=K)return 0;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(K%2==0){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(abs(M-L)%2==0)return false;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>int len=(K-abs(L-M)-1)/2;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(M-len&lt;1||L+len&gt;N)return false;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>else{<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(abs(M-L)%2==1)return false;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>int len=(K-abs(L-M)-1)/2;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(M-len&lt;1||L+len&gt;N)return false;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return true;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>string winner(int N, int M, int K, int L) {<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(can(N,M,K,L))return "Romeo";<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>for(int i=1;i+K-1&lt;=N;i++){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(i&lt;=M &amp;&amp; M&lt;=i+K-1){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>int m=i+K-1-(M-i);<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(!can(N,m,K,L))return "Draw";<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return "Strangelet";<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />}</div></div>
