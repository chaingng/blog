+++
title = "SRM 184 DIV1 Easy - RaceCalculator (復習×)"
date = 2014-01-31T23:05:00Z
updated = 2015-03-26T19:44:31Z
tags = ["実装"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=2250&amp;rd=4740" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=2250&amp;rd=4740</a><br /><br />・人がある道を走るシチュエーションで、通過した距離とその時点での時間が任意の地点分与えられる。<br />・同じペースで走ることができ、予想される時間が計算できるのが理想だが、疲れが影響してペースは一定にはならない。<br />・ある地点における予想時間は、その他の任意の２点を使って計算できる。<br />・このとき、一番実際の時間と予想時間との差が小さくなる地点を求める。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />問題文の意味を読み解くのに苦労しました。<br /><br />ある地点に対する予想時間はその他の任意の２点を使って求めるということがわかれば、<br />３点の取り方に対する全ての場合の数を計算してあげれば答えが求まります。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class RaceCalculator {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public: int bestRace(vector&lt;int&gt; distances, vector&lt;int&gt; times) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int n=times.size();<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>double badness[n];<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n)badness[i]=-(1e+9);<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n)FORE(j,0,n)FORE(k,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(i==j||j==k||i==k)continue;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>double a=log(times[j]/(double)times[i]);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>double b=log(distances[i]/(double)distances[k]);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>double c=log(distances[i]/(double)distances[j]);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>double expected=times[i]*exp(a*b/c);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>badness[k]=max(badness[k],(times[k]-expected)/expected);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int best=0;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n)if(badness[i]&lt;badness[best])best=i;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return best;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
