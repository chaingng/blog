+++
title = "SRM 311 DIV1 Middle - SumThemAll （復習xx）"
date = 2014-03-30T10:47:00Z
updated = 2014-09-15T11:22:01Z
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=6430" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=6430</a><br /><br />０以上の整数lowerBoundとupperBoundが与えられる。<br /><br />ここである数字xのスコアについては、xの各桁の数字の和で表わされる。<br /><br />このときlowerBoundからupperBoundまでの全ての数字のスコアの和求める。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />数字は2*10^9であるため全探索では解けない。<br /><br />例として、２けたの数字10*x+yを考える。<br /><br />ここでyが9のとき、数字のスコアは以下の和であることがわかる。<br />１桁目：45(0~9の和)*(x+1)<br />２桁目：(1~xの各数字*10の和）<br /><br />次に桁数がnのときは(1~xの各数字)について、上記の再帰関数で求めればよいことが分かる。<br /><br />またyが8以下のときは、例えば18のときは19のスコアから1+9（各数字の和）を引けばよいので、yが9の場合に変換することができる。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">using namespace std;<br /><br />#define all(c) (c).begin(),(c).end()<br />#define FORE(i,d,e) for(int i=d;i&lt;e;i++)<br />#define FOR(i,s,e) for (int i = int(s); i != int(e); i++)<br />#define FORIT(i,c) for (typeof((c).begin()) i = (c).begin(); i != (c).end(); i++)<br />#define ISEQ(c) (c).begin(), (c).end()<br /><br /><br />class SumThemAll {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>long long sum(long long x){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(x&lt;10)return x;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return sum(x/10)+x%10;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>long long calc(long long x){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(x&lt;10)return x*(x+1)/2;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>if(x%10==9)return calc(x/10)*10+(x/10+1)*45;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return calc(x+1)-sum(x+1);<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>long long getSum(int lowerBound, int upperBound) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return calc(upperBound)-calc(max(lowerBound-1,0));<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
