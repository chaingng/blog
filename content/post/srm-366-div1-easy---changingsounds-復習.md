+++
title = "SRM 366 DIV1 Easy - ChangingSounds （復習○）"
date = 2014-01-17T22:24:00Z
updated = 2015-03-26T19:54:39Z
tags = ["DP"]
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=7973&amp;rd=10781" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=7973&amp;rd=10781</a><br /><br />・ある曲数分、その曲を再生する前に調整可能なボリュームが与えられる。<br />・与えられたボリュームに対し、そのボリューム分音を大きくするか、小さくすることができる。ただし、０以上最大ボリューム以下にならなければいけない。<br />・最初のボリュームが与えられた時、最後の曲を再生し終わった後に最大のボリューム数を求める。全て再生できなければー１を返す。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />2^50=10^15のため全探索することはできない。<br />ただし、ボリューム数が０～１０００の間に収まり曲数が最大５０のため<br />dpで解くことができる。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class ChangingSounds {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int maxFinal(vector&lt;int&gt; C, int beginLevel, int maxLevel) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int ret=-1,n=C.size();<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int dp[n+1][maxLevel+1];<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>memset(dp,0,sizeof(dp));<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>dp[0][beginLevel]=1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>FORE(j,0,maxLevel+1){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(dp[i][j]){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(j+C[i]&lt;=maxLevel)dp[i+1][j+C[i]]=1;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(j-C[i]&gt;=0)dp[i+1][j-C[i]]=1;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,maxLevel+1)if(dp[n][i])ret=i;<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ret;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
