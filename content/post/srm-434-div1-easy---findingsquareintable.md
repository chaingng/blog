+++
title = "SRM 434 DIV1 Easy - FindingSquareInTable"
date = 2015-05-02T22:52:00Z
updated = 2015-05-02T22:52:42Z
blogimport = true 
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br /><a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=10268&amp;rd=13696" target="_blank">http://community.topcoder.com/stat?c=problem_statement&amp;pm=10268&amp;rd=13696</a><br /><br />1桁の数字がかかれた２次元のセルが与えられる。<br />各列、行番号についてそれぞれ等差数列になるように任意の数字を連結させることができる。<br /><br />連結した数字のうち、それがある数の２乗になるようなもののうち<br />最大のものを求める。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />すべての位置について、列番号、行番号それぞれについてとりうる<br />等差数列すべてを調べてあげればよい。<br /><br />2乗の確認はdoubleでは確かめられなく、整数型にすることに注意。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class FindingSquareInTable {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>long long tolong(string str){<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>stringstream out(str);<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>long long num;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>out&gt;&gt;num;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return num;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>int findMaximalSquare(vector&lt;string&gt; table) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int h=table.size(),w=table[0].size();<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>long long ret=-1;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,h)FORE(j,0,w){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>for(int dr=-h;dr&lt;=h;dr++)for(int dc=-w;dc&lt;=w;dc++){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>if(dr==0&amp;&amp;dc==0)continue;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>string str="";<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>int r=i,c=j;<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>while(0&lt;=r &amp;&amp; r&lt;h &amp;&amp; 0&lt;=c &amp;&amp; c&lt;w){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>str+=table[r][c];<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>r+=dr,c+=dc;<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>long long num=tolong(str);<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if((long long)sqrt(num)*(long long)sqrt(num)==num)ret=max(ret,num);<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return ret;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
