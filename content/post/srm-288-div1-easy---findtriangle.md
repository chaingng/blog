+++
title = "SRM 288 DIV1 Easy - FindTriangle"
date = 2014-01-30T08:05:00Z
updated = 2015-03-26T19:44:45Z
tags = ["実装"]
blogimport = true
draft = true
[author]
	name = "chngng"
	uri = "https://www.blogger.com/profile/14196381724208675248"
+++

<div dir="ltr" style="text-align: left;" trbidi="on"><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">問題 </h3><br />・３次元座標上に、ＲＧＢのうち１つの色を持つ座標が複数与えられる。<br />・そのうち同じ色の３点、もしくは全て異なる色の３点を選んで三角形を作ることができる。<br />・このとき、作ることのできる三角形の最大の面積を求める。<br /><br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">解き方 </h3><br />三角形の求め方がポイント。<br />ヘロンの法則を使って求めると、誤差が生じてしまう。<br /><br />そのため、２つのベクトルの外積が平行四角形の面積になることを利用して解く。<br /><br /><h3 style="border-bottom: 2px solid slateblue; border-left: 8px solid navy; color: black; padding: 0px 0px 1px 5px;">コード </h3><br /><div style="background-color: #e3f2fb; border: 1px dotted #CCCCCC; padding: 5px;">class FindTriangle {<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>public:<br /><br /><span class="Apple-tab-span" style="white-space: pre;"> </span>double largestArea(vector&lt;string&gt; points) {<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int n=points.size();<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>int c[n],x[n],y[n],z[n];<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>stringstream out(points[i]);<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>char ch;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>out&gt;&gt;ch&gt;&gt;x[i]&gt;&gt;y[i]&gt;&gt;z[i];<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>if(ch=='R')c[i]=1;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>else if(ch=='G')c[i]=2;<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>else c[i]=4;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>double ret=0.0;<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>FORE(i,0,n){<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>FORE(j,i+1,n){<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>FORE(k,j+1,n){<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>int flag=c[i]|c[j]|c[k];<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>if(flag==1||flag==2||flag==4||flag==7){<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>double dx1=x[j]-x[i];<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>double dy1=y[j]-y[i];<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>double dz1=z[j]-z[i];<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>double dx2=x[k]-x[i];<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>double dy2=y[k]-y[i];<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>double dz2=z[k]-z[i];<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>double len=(dy1*dz2-dz1*dy2)*(dy1*dz2-dz1*dy2);<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>len+=(dz1*dx2-dx1*dz2)*(dz1*dx2-dx1*dz2);<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>len+=(dx1*dy2-dy1*dx2)*(dx1*dy2-dy1*dx2);<br /><span class="Apple-tab-span" style="white-space: pre;">      </span>ret=max(ret,len);<br /><span class="Apple-tab-span" style="white-space: pre;">     </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">    </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">   </span>}<br /><span class="Apple-tab-span" style="white-space: pre;">  </span>}<br /><br /><span class="Apple-tab-span" style="white-space: pre;">  </span>return sqrt(ret)/2.0;<br /><span class="Apple-tab-span" style="white-space: pre;"> </span>}<br /><br />};</div></div>
